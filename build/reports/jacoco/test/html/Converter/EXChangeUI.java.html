<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>EXChangeUI.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Converter</a> &gt; <a href="index.source.html" class="el_package">Converter</a> &gt; <span class="el_source">EXChangeUI.java</span></div><h1>EXChangeUI.java</h1><pre class="source lang-java linenums">package Converter;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.concurrent.Exchanger;

import Converter.*;


public class EXChangeUI extends JFrame{    //Graph input and output

    //extends继承AFrame类
<span class="fc" id="L15">    JTextField in_1 = new JTextField(10);  //text field length in 10</span>
<span class="fc" id="L16">    JTextField in_2 = new JTextField(10);</span>
<span class="fc" id="L17">    JTextField in_3 = new JTextField(10);</span>
    //JTextField in_4 = new JTextField(10);
    //JTextField in_5 = new JTextField(10);
<span class="fc" id="L20">    JComboBox comboBox=new JComboBox();</span>
<span class="fc" id="L21">    JComboBox comboBox2 =new JComboBox();</span>
<span class="fc" id="L22">    JButton result_btn = new JButton(&quot;EXCHANGE! &quot;);  //button</span>
<span class="fc" id="L23">    JButton rate_btn = new JButton(&quot;change the rate&quot;);</span>
<span class="fc" id="L24">    JLabel out_1 = new JLabel(&quot; = &quot;);      //set some labels</span>
<span class="fc" id="L25">    JLabel out_2 = new JLabel(&quot; = &quot;);</span>
<span class="fc" id="L26">    JLabel out_3 = new JLabel(&quot; = &quot;);</span>
<span class="fc" id="L27">    JLabel jLabel_1 = new JLabel(&quot;Currency: &quot;);</span>
<span class="fc" id="L28">    JLabel jLabel_2 = new JLabel(&quot;Desired Currency: &quot;);</span>
<span class="fc" id="L29">    JLabel jLabel_3 = new JLabel(&quot;Amount 1: &quot;);</span>
<span class="fc" id="L30">    JLabel jLabel_4 = new JLabel(&quot;Amount 2: &quot;);</span>
<span class="fc" id="L31">    JLabel jLabel_5 = new JLabel(&quot;Amount 3: &quot;);</span>
<span class="fc" id="L32">    JLabel jLabel_6 = new JLabel(&quot;&quot;);</span>
<span class="fc" id="L33">    JLabel jLabel_7 = new JLabel(&quot;&quot;);</span>
<span class="fc" id="L34">    JLabel jLabel_8 = new JLabel(&quot;&quot;);</span>

<span class="fc" id="L36">    public EXChangeUI() {</span>
        //setLayout(new FlowLayout());
<span class="fc" id="L38">        setLayout(new GridLayout(10,2));   //set the format and we set it to grid layout</span>
<span class="fc" id="L39">        getContentPane().add(jLabel_1);</span>
<span class="fc" id="L40">        getContentPane().add(jLabel_2);</span>
        //getContentPane().add(in_4);
        //getContentPane().add(in_5);
<span class="fc" id="L43">        comboBox.addItem(&quot;USD($)&quot;);</span>
<span class="fc" id="L44">        comboBox.addItem(&quot;AUD($)&quot;);</span>
<span class="fc" id="L45">        comboBox.addItem(&quot;CNY(¥)&quot;);</span>
<span class="fc" id="L46">        comboBox.addItem(&quot;GBP(￡)&quot;);</span>
<span class="fc" id="L47">        comboBox.addItem(&quot;EUR(€)&quot;);</span>
<span class="fc" id="L48">        comboBox.addItem(&quot;CAD($)&quot;);</span>
<span class="fc" id="L49">        comboBox.addItem(&quot;SGD($)&quot;);</span>
<span class="fc" id="L50">        comboBox.addItem(&quot;JPY(￥)&quot;);</span>
<span class="fc" id="L51">        getContentPane().add(comboBox);</span>


<span class="fc" id="L54">        comboBox2.addItem(&quot;USD($)&quot;);</span>
<span class="fc" id="L55">        comboBox2.addItem(&quot;AUD($)&quot;);</span>
<span class="fc" id="L56">        comboBox2.addItem(&quot;CNY(¥)&quot;);</span>
<span class="fc" id="L57">        comboBox2.addItem(&quot;GBP(￡)&quot;);</span>
<span class="fc" id="L58">        comboBox2.addItem(&quot;EUR(€)&quot;);</span>
<span class="fc" id="L59">        comboBox2.addItem(&quot;CAD($)&quot;);</span>
<span class="fc" id="L60">        comboBox2.addItem(&quot;SGD($)&quot;);</span>
<span class="fc" id="L61">        comboBox2.addItem(&quot;JPY(￥)&quot;);</span>
<span class="fc" id="L62">        getContentPane().add(comboBox2);</span>


<span class="fc" id="L65">        getContentPane().add(jLabel_3);</span>
<span class="fc" id="L66">        getContentPane().add(jLabel_6);</span>
<span class="fc" id="L67">        getContentPane().add(in_1);</span>
<span class="fc" id="L68">        getContentPane().add(out_1);</span>
<span class="fc" id="L69">        getContentPane().add(jLabel_4);</span>
<span class="fc" id="L70">        getContentPane().add(jLabel_7);</span>
<span class="fc" id="L71">        getContentPane().add(in_2);</span>
<span class="fc" id="L72">        getContentPane().add(out_2);</span>
<span class="fc" id="L73">        getContentPane().add(jLabel_5);</span>
<span class="fc" id="L74">        getContentPane().add(jLabel_8);</span>
<span class="fc" id="L75">        getContentPane().add(in_3);</span>
<span class="fc" id="L76">        getContentPane().add(out_3);</span>
<span class="fc" id="L77">        getContentPane().add(result_btn);</span>
<span class="fc" id="L78">        getContentPane().add(rate_btn);</span>
<span class="fc" id="L79">        result_btn.addActionListener(new result_BtnActionAdapter());  //new a action listener</span>
<span class="fc" id="L80">        rate_btn.addActionListener(new rate_BtnActionAdapter());</span>
<span class="fc" id="L81">        setSize(500, 500);</span>
<span class="fc" id="L82">        setDefaultCloseOperation(DISPOSE_ON_CLOSE);  //exit</span>
<span class="fc" id="L83">        setVisible(true);  //display</span>

<span class="fc" id="L85">    }</span>


<span class="fc" id="L88">    class result_BtnActionAdapter implements ActionListener {</span>
        public void actionPerformed(ActionEvent e) {
<span class="pc bpc" id="L90" title="1 of 2 branches missed.">            if(comboBox.getSelectedItem().equals(comboBox2.getSelectedItem())){</span>
<span class="nc" id="L91">                JOptionPane.showMessageDialog(null, &quot;Please select different currencies&quot;, null, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L92">                return;</span>
            }

<span class="fc" id="L95">            String s1 = &quot;0&quot;;</span>
<span class="fc" id="L96">            String s2 = in_2.getText();</span>
<span class="fc" id="L97">            String s3 = in_3.getText();</span>
<span class="fc" id="L98">            String s4 = (String)comboBox.getSelectedItem();</span>
<span class="fc" id="L99">            String s5 = (String)comboBox2.getSelectedItem();    //get the content of the text field</span>
<span class="fc" id="L100">            FileOperator fileOperator = new FileOperator();</span>

<span class="pc bpc" id="L102" title="1 of 2 branches missed.">            if (!in_1.getText().equals(&quot;&quot;)){</span>
<span class="fc" id="L103">                s1 = in_1.getText();</span>
            }
<span class="pc bpc" id="L105" title="1 of 2 branches missed.">            if (s2.equals(&quot;&quot;)){</span>
<span class="nc" id="L106">                s2 = &quot;0&quot;;</span>
            }
<span class="pc bpc" id="L108" title="1 of 2 branches missed.">            if (s3.equals(&quot;&quot;)){</span>
<span class="fc" id="L109">                s3 = &quot;0&quot;;</span>
            } //consider the special case, which the input is null, we tried two ways to avoid it.
            try{
<span class="fc" id="L112">                double d1 = Double.parseDouble(s1);</span>
<span class="fc" id="L113">                double d2 = Double.parseDouble(s2);</span>
<span class="fc" id="L114">                double d3 = Double.parseDouble(s3);</span>
<span class="pc bpc" id="L115" title="3 of 6 branches missed.">                if (d1 &lt; 0.0 || d2 &lt; 0.0 || d3 &lt; 0.0){</span>
<span class="nc" id="L116">                    JOptionPane.showMessageDialog(null, &quot;item must not less than 0.&quot;, null, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L117">                    return;</span>
                }
<span class="fc" id="L119">                double rate = fileOperator.getRate(s4, s5);</span>
<span class="pc bpc" id="L120" title="1 of 2 branches missed.">                if (rate == 0.0){</span>
<span class="nc" id="L121">                    JOptionPane.showMessageDialog(null, &quot;No such rate, please go to change the rate.&quot;, null, JOptionPane.ERROR_MESSAGE);</span>
                }
                else{
                    // double d4 = String.parseString(s4);
                    // double d5 = String.parseString(s5);       //change them to double number.
<span class="fc" id="L126">                    Calculator caculator = new Calculator();</span>
<span class="fc" id="L127">                    double sq1 = caculator.getResult(d1, rate);</span>
<span class="fc" id="L128">                    double sq2 = caculator.getResult(d2, rate);</span>
<span class="fc" id="L129">                    double sq3 = caculator.getResult(d3, rate);;</span>
<span class="fc" id="L130">                    out_1.setText( &quot; = &quot; + sq1);</span>
<span class="fc" id="L131">                    out_2.setText( &quot; = &quot; + sq2);</span>
<span class="fc" id="L132">                    out_3.setText( &quot; = &quot; + sq3);   //display the result</span>
                }
<span class="nc" id="L134">            }catch(Exception ex){</span>
<span class="nc" id="L135">                JOptionPane.showMessageDialog(null, &quot;rate must be number.&quot;, null, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L136">                return;</span>
<span class="fc" id="L137">            }</span>

<span class="fc" id="L139">        }</span>

    }
<span class="fc" id="L142">    class rate_BtnActionAdapter implements ActionListener {      //set another action adapter</span>
        public void actionPerformed(ActionEvent e) {    // try go the another text field which can change the exchange rate.
            // String s = in.getText();
            // double d = Double.parseDouble(s);
            // double sq = d * d;
            // out.setText( d + &quot;result: &quot; + sq);
<span class="nc" id="L148">            Exchange_rate exchange_rate = new Exchange_rate();</span>

<span class="nc" id="L150">            dispose();</span>
<span class="nc" id="L151">        }</span>

    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>